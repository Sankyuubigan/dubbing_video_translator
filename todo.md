

# новые задачи

1. нужно получить субтитры как у яндекса (спич2текст или перевод)
2. обрезаются щас фразы (проверить виспер с сабами)
3. через сабы внешние диаризация пойдет но надо улучшить (в начале видео)
4. через виспер баг, диаризация не работает.
5. проверить через билд запуск
6. проверить с ютуб англсабами на вход 




# в разработке
1. я думаю о том чтобы скомпилировать программу в 1 exe файл и запускать на других пк в более простом варианте. и чтобы ничего не надо было устанавливать стороннего. это возомжно? можно ли сделать так, чтобы всё что нужно программе устанавливалось самостоятельно изнутри в 1 папку (модели, библиотеки нужные) и использовалось из этой папки (что то типа кэша)? допустим можно было бы выбирать путь для такой папки рабочей, и нажимать кнопку "скачать модели". каждый раз когда стартует программа, можно указать путь, и она будет использовать папку если она уже существует. если чего то не найдет там, то скачает. вроде есть библиотеки на питоне которые скачивают в рабочую папку зависимости нужные. а сам билд программы 1 файл весит не много.
2. я очень долго жду перевода видео. поэтому я подумал о том, чтобы можно было в программе прямо начать смотреть видео с переводом сразу же. то есть встроить в программу свой плеер. возможно ли сделать так чтобы перевод осуществлялся частями (типа буферизации, предворительной загрузки) ? или это снизит качество перевода? сильно ли это повлияет?





<!-- .venv/Scripts/python.exe -m pip install srt -->



    Улучшение таймингов:

        Часто субтитры (особенно автоматически сгенерированные YouTube) имеют неидеальные тайминги: слишком короткие сегменты, слишком длинные, наложение сегментов, неправильное начало/конец фразы.

        Библиотеки/Инструменты:

            pycaption: Может читать и писать разные форматы субтитров, позволяет манипулировать таймингами.

            stable-ts (часть stable-whisper): Если вы используете Whisper или его варианты, stable-ts может помочь получить более точные временные метки на уровне слов. Это можно использовать для пересборки сегментов с лучшими таймингами.

            aeneas: Инструмент для принудительного выравнивания текста и аудио. Если у вас есть аудио и транскрипция (пусть даже с неточными таймингами), aeneas может их синхронизировать, выдав новые, более точные тайминги. Это может быть очень полезно.

            Собственные алгоритмы: Можно написать логику для слияния слишком коротких сегментов, разделения слишком длинных (если они содержат паузы), коррекции наложения.

    Расстановка знаков препинания и форматирование:

        Правильная пунктуация помогает TTS генерировать более естественные интонации и паузы.

        Удаление лишних тегов (например, HTML из некоторых SRT), нормализация регистра.

        Библиотеки/Инструменты:

            deepmultilingualpunctuation или Indic пятьюнктуация (для некоторых языков): Модели на основе нейросетей, специально обученные для расстановки знаков препинания в тексте, где они отсутствуют (например, после ASR).

            Правила и регулярные выражения: Для базовой очистки и форматирования.

    Улучшение смыслового контекста и нераспознанных слов (через нейросеть):

        Это самая сложная часть. Идея "прогнать субтитры через нейросеть для улучшения" звучит хорошо, но реализация требует мощных моделей.

        Возможные подходы:

            Large Language Models (LLM) общего назначения (типа GPT, LLaMA, или их аналоги): Можно попробовать использовать их для:

                Исправления ошибок ASR: Дать модели распознанный текст и попросить "исправить возможные ошибки распознавания, учитывая контекст".

                Перефразирования для ясности или краткости.

                Заполнения пропусков (если есть маркеры нераспознанных слов).

                Проблема: Требует API-доступа к мощным моделям или локального развертывания, что ресурсоемко. Также нужно тщательно формулировать промпты.

            Специализированные модели для коррекции текста (Text Correction Models): Существуют модели, натренированные на исправление грамматических, орфографических и стилистических ошибок.

            Использование контекста из видео (мультимодальный подход): Теоретически, если бы модель могла анализировать и видеоряд, она бы лучше понимала контекст. Это передний край исследований и пока сложно реализуемо в таком проекте.